<!-- sections/text-with-img.liquid -->
{% comment %} 
                            Text with Image Section
                            Features: Image on left or right, heading, text, button
{% endcomment %}

{%- assign section_spacing = section.settings.section_spacing -%}
{%- case section_spacing -%}
  {%- when 'large' -%}
    {%- assign section_classes = 'py-16' -%}
  {%- when 'medium' -%}
    {%- assign section_classes = 'py-12 ' -%}
  {%- when 'small' -%}
    {%- assign section_classes = 'py-8 ' -%}
  {%- else -%}
    {%- assign section_classes = 'py-12' -%}
{%- endcase -%}


<section class="{{ section_classes }}">
  <div class="container mx-auto px-4 max-w-7xl">
    <div class="flex flex-col md:flex-row {% if section.settings.reverse_columns %}md:flex-row-reverse{% endif %} items-center gap-10">
      <div class="md:w-2/5 w-full flex justify-center">
        {% if section.settings.image != blank %}
          <img
            src="{{ section.settings.image | image_url: width: 600 }}"
            alt="{{ section.settings.image.alt | default: section.settings.heading }}"
            class="max-w-full h-auto">
        {% endif %}
      </div>
      <div class="md:w-3/5 w-full text-left">
        {% if section.settings.heading != blank %}
          <h2 class="text-4xl font-bold mb-6 text-gray-800">
            {{ section.settings.heading }}
          </h2>
        {% endif %}
        {% if section.settings.text != blank %}
          <div class="text-lg text-gray-700 mb-8">
            {{ section.settings.text }}
          </div>
        {% endif %}
        {% if section.settings.button_text != blank %}
          <a href="{{ section.settings.button_url | default: '#' }}" class="btn btn--primary font-bold">
            {{ section.settings.button_text }}
            <span class="ml-2">&rarr;</span>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Text with Image",
    "settings": [
      {
        "type": "select",
        "id": "section_spacing",
        "label": "Section Spacing",
        "default": "medium",
        "options": [
          {
            "value": "large",
            "label": "Large"
          }, {
            "value": "medium",
            "label": "Medium"
          }, {
            "value": "small",
            "label": "Small"
          }
        ]
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },

      {
        "type": "richtext",
        "id": "heading",
        "label": "Heading",
        "default": "<h2>Add Heading Here</h2>"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Add your subtext here</p>"
      }, {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default": "LEARN MORE"
      }, {
        "type": "url",
        "id": "button_url",
        "label": "Button URL"
      }, {
        "type": "checkbox",
        "id": "reverse_columns",
        "label": "Reverse columns (image right, text left)",
        "default": false
      }
    ],
    "presets": [
      {
        "name": "Text with Image"
      }
    ]
  }
{% endschema %}
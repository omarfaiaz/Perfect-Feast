<!-- sections/holiday-gifting-hero.liquid -->
{% comment %} 
                      Corporate Hero App From
                      Features: Background image with overlay, customizable content, add-to-cart form 
{% endcomment %}

{%- liquid
  assign bg_image = section.settings.background_image
  assign overlay_opacity = section.settings.overlay_opacity | divided_by: 100.0
-%}

<section class="hero-with-form relative min-h-screen lg:min-h-[600px] flex items-center justify-center px-4 py-12">
  <!-- Background Image -->
  {% if bg_image %}
    <div class="absolute inset-0 z-0">
      {{ bg_image | image_url: width: 1920 | image_tag: 
 loading: 'lazy',
 class: 'w-full h-full object-cover',
 alt: bg_image.alt | default: section.settings.title
      }}
    </div>
  {% else %}
    <!-- Fallback gradient background -->
    <div class="absolute inset-0 z-0 bg-gradient-to-r from-gray-600 to-gray-800"></div>
  {% endif %}

  <!-- Overlay -->
  <div class="absolute inset-0 z-10 bg-black" style="opacity: {{ overlay_opacity }};"></div>

  <!-- Content Container -->
  <div class="relative z-20 w-full max-w-7xl mx-auto">
    <div class="flex flex-col lg:flex-row gap-8 lg:gap-12 items-center">

      <!-- Left Content -->
      <div class="w-full lg:w-1/2 text-white space-y-6 text-center lg:text-left">
        {% if section.settings.title != blank %}
          <div class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight">
            {{ section.settings.title }}
          </div>
        {% endif %}

        {% if section.settings.description != blank %}
          <p class="text-lg sm:text-xl text-gray-200 max-w-2xl mx-auto lg:mx-0">
            {{ section.settings.description }}
          </p>
        {% endif %}

        {% if section.settings.show_enterprise_button and section.settings.enterprise_button_text != blank %}
          <div class="pt-4">
            <a href="{{ section.settings.enterprise_button_url | default: '#' }}" class="btn btn--primary">
              {{ section.settings.enterprise_button_text }}
            </a>
          </div>
        {% endif %}
      </div>

      <!-- Right Form -->
      <div class="w-full lg:w-2/5 flex justify-center lg:justify-end">
        
           {% if section.blocks.size > 0 %}
            <div class="bg-white rounded-lg max-w-sm p-6 sm:p-8 w-full shadow-2xl">
            {% for block in section.blocks %}
              {% render block %}
            {% endfor %}
          </div>
            {% else %}
              {% if section.settings.embed_form != blank %}
                <div class="embedded-form rounded-lg p-6 sm:p-8 w-full shadow-2xl">
                  {{ section.settings.embed_form }}
                </div>
              {% endif %}
          {% endif %}
        
      </div>

    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Hero APP Form",
    "tag": "section",
    "class": "holiday-gifting-hero-section",
    "settings": [
      {
        "type": "header",
        "content": "Background"
      },
      {
        "type": "image_picker",
        "id": "background_image",
        "label": "Background image",
        "info": "Recommended size: 1920x1080px or larger"
      },
      {
        "type": "range",
        "id": "overlay_opacity",
        "label": "Overlay opacity",
        "min": 0,
        "max": 80,
        "step": 5,
        "unit": "%",
        "default": 40
      },
      {
        "type": "header",
        "content": "Content"
      }, {
        "type": "richtext",
        "id": "title",
        "label": "Heading",
        "default": "<h1>Your Trusted Corporate Holiday Gifting Partner</h1>"
      }, {
        "type": "textarea",
        "id": "description",
        "label": "Description",
        "default": "The first and largest turkey, ham, and grocery gift certificate provider. Trusted by companies of all sizes. Accepted nationwide."
      }, {
        "type": "header",
        "content": "Enterprise Button"
      }, {
        "type": "checkbox",
        "id": "show_enterprise_button",
        "label": "Show enterprise button",
        "default": true
      }, {
        "type": "text",
        "id": "enterprise_button_text",
        "label": "Button text",
        "default": "Enterprise Packages"
      }, {
        "type": "url",
        "id": "enterprise_button_url",
        "label": "Button link"
      }, 
      {
        "type": "html",
        "id": "embed_form",
        "label": "Embed Form",
        "info": "Embed a form here."
      },
     
       {
        "type": "header",
        "content": "Section Settings"
      }, {
        "type": "text",
        "id": "section_id",
        "label": "Section ID",
        "info": "Optional: Add a custom ID for this section"
      }
    ],
    "blocks": [
      { "type": "@app" }
    ],
    "presets": [
      {
        "name": "Hero APP Form",
        "category": "Custom"
      }
    ]
  }
{% endschema %}
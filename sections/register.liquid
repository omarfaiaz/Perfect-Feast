{% comment %} 
      Register section 
{% endcomment %}

<section class="py-16 bg-gray-50 min-h-[60vh]">
  <div class="container mx-auto px-4">
    <div class="max-w-md mx-auto">
      <div class="text-center mb-8">
        <h3 class="text-3xl font-bold text-gray-900">
          {{ section.settings.heading | default: "Create your account" }}
        </h3>
        {% if section.settings.subheading != blank %}
          <p class="text-gray-600 mt-2">{{ section.settings.subheading }}</p>
        {% endif %}
      </div>

      <div class="bg-white rounded-2xl shadow-md p-8">
        {% form 'create_customer' %}
          {% if form.errors %}
            <div class="mb-6 p-4 bg-red-50 border border-red-100 text-red-700 rounded">
              <strong class="block mb-1">There was a problem</strong>
              <ul class="list-disc pl-5">
                {% for field in form.errors %}
                  <li>{{ field }}</li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}

          {% if form.posted_successfully %}
            <div class="mb-6 p-4 bg-green-50 border border-green-100 text-green-700 rounded text-center">
              Your account has been created. Check your email for confirmation.
            </div>
          {% endif %}

          <div class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="block">
                <span class="text-sm font-medium text-gray-700">First name</span>
                <input
                  name="customer[first_name]"
                  type="text"
                  class="mt-2 w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandPrimary" />
              </label>

              <label class="block">
                <span class="text-sm font-medium text-gray-700">Last name</span>
                <input
                  name="customer[last_name]"
                  type="text"
                  class="mt-2 w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandPrimary" />
              </label>
            </div>

            <label class="block">
              <span class="text-sm font-medium text-gray-700">Email</span>
              <input
                name="customer[email]"
                type="email"
                required
                class="mt-2 w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandPrimary"
                placeholder="you@example.com" />
            </label>

            <label class="block">
              <span class="text-sm font-medium text-gray-700">Password</span>
              <input
                name="customer[password]"
                type="password"
                required
                class="mt-2 w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandPrimary"
                placeholder="Create a password" />
            </label>

            {% if section.settings.show_newsletter %}
              <label class="inline-flex items-center gap-3 mt-1">
                <input
                  name="customer[accepts_marketing]"
                  type="checkbox"
                  value="1"
                  class="w-4 h-4 rounded border-gray-300" />
                <span class="text-sm text-gray-700">Subscribe to our newsletter</span>
              </label>
            {% endif %}

            <button type="submit" class="w-full py-3 bg-brandPrimary text-white font-bold rounded-lg hover:opacity-95 transition">
              Create account
            </button>

            <p class="text-center text-sm text-gray-600">
              Already have an account?
              <a href="{{ routes.account_login_url }}" class="text-brandPrimary font-medium hover:underline">Sign in</a>
            </p>
          </div>
        {% endform %}
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Register",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Create your account"
      }, {
        "type": "textarea",
        "id": "subheading",
        "label": "Subheading"
      }, {
        "type": "checkbox",
        "id": "show_newsletter",
        "label": "Show newsletter opt-in",
        "default": true
      }
    ],
    "presets": [
      {
        "name": "Register"
      }
    ]
  }
{% endschema %}